/*! mpulse v1.3.6 */

var CryptoJS=CryptoJS||function(c,e){var t={},n=t.lib={},i=n.Base=function(){function n(){}return{extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||r).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,o=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<o;r++){var s=n[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=s<<24-(i+r)%4*8}else if(65535<n.length)for(r=0;r<o;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=o,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=c.ceil(t/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*c.random()|0);return new p.init(t,e)}}),o=t.enc={},r=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var r=t[o>>>2]>>>24-o%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new p.init(n,t/2)}},s=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var r=t[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new p.init(n,t)}},a=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},f=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=a.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,i=t.sigBytes,o=this.blockSize,r=i/(4*o),s=(r=e?c.ceil(r):c.max((0|r)-this._minBufferSize,0))*o,a=c.min(4*s,i);if(s){for(var f=0;f<s;f+=o)this._doProcessBlock(n,f);var u=n.splice(0,s);t.sigBytes-=a}return new p.init(u,a)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),u=(n.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new u.HMAC.init(n,t).finalize(e)}}}),t.algo={});return t}(Math);!function(o){var e=CryptoJS,t=e.lib,n=t.WordArray,i=t.Hasher,r=e.algo,s=[],w=[];!function(){function e(e){for(var t=o.sqrt(e),n=2;n<=t;n++)if(!(e%n))return!1;return!0}function t(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(s[i]=t(o.pow(n,.5))),w[i]=t(o.pow(n,1/3)),i++),n++}();var S=[],a=r.SHA256=i.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],s=n[3],a=n[4],f=n[5],u=n[6],c=n[7],p=0;p<64;p++){if(p<16)S[p]=0|e[t+p];else{var d=S[p-15],h=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,l=S[p-2],m=(l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10;S[p]=h+S[p-7]+m+S[p-16]}var g=i&o^i&r^o&r,y=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),v=c+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&u)+w[p]+S[p];c=u,u=f,f=a,a=s+v|0,s=r,r=o,o=i,i=v+(y+g)|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+u|0,n[7]=n[7]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=o.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA256=i._createHelper(a),e.HmacSHA256=i._createHmacHelper(a)}(Math),function(){var e=CryptoJS,t=e.lib.Base,u=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=u.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),r=this._iKey=t.clone(),s=o.words,a=r.words,f=0;f<n;f++)s[f]^=1549556828,a[f]^=909522486;o.sigBytes=r.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}(),function(N){"use strict";var r,U,s,X=3e5,J=5e3,G="1.3.6",a=["startTimer","stopTimer","sendTimer","sendMetric","setPageGroup","getPageGroup","resetPageGroup","setABTest","getABTest","resetABTest","setDimension","resetDimension","setSessionID","getSessionID","startSession","incrementSessionLength","setSessionLength","getSessionLength","setSessionStart","getSessionStart","transferBoomerangSession","subscribe","sendBeacon","isInitialized"],K=["before_beacon","beacon"],F=0,f=!1,$=!1,e=+new Date;function E(e,t){var n="string"==typeof e?e:e.url,i=e&&e.ua;r||("function"==typeof XDomainRequest||"object"==typeof XDomainRequest?(f=!0,r=function(){return new XDomainRequest}):"function"==typeof XMLHttpRequest||"object"==typeof XMLHttpRequest?r=function(){return new XMLHttpRequest}:"undefined"!=typeof Ti&&Ti.Network&&"function"==typeof Ti.Network.createHTTPClient?r=Ti.Network.createHTTPClient:"function"==typeof require?r=function(){return new(require("xmlhttprequest").XMLHttpRequest)}:N&&void 0!==N.ActiveXObject&&(r=function(){return new N.ActiveXObject("Microsoft.XMLHTTP")}));var o=r();"function"==typeof t&&(f?o.onload=function(){t(o.responseText)}:o.onreadystatechange=function(){4===o.readyState&&t(o.responseText)}),o.open("GET",n,!0),i&&o.setRequestHeader("User-Agent",i),o.send()}if(U="undefined"!=typeof process&&"function"==typeof process.nextTick?process.nextTick.bind(process):void 0!==N?N.setImmediate?N.setImmediate.bind(N):N.msSetImmediate?N.msSetImmediate.bind(N):N.webkitSetImmediate?N.webkitSetImmediate.bind(N):N.mozSetImmediate?N.mozSetImmediate.bind(N):function(e){setTimeout(e,10)}:function(e){setTimeout(e,10)},void 0!==N)if(void 0!==N.performance&&"function"==typeof N.performance.now)$=N.performance.now.bind(N.performance);else if(void 0!==N.performance){var t=["webkitNow","msNow","mozNow"];for(F=0;F<t.length;F++)if("function"==typeof N.performance[t[F]]){$=N.performance[t[F]];break}}function W(e){"object"==typeof console&&"function"==typeof console.warn&&console.warn("mPulse: "+e)}function u(e,t,n){var a=e,s=t,f="//c.go-mpulse.net/api/v2/config.json",i=(n=n||{}).ua,o=!1,u={},c=!1,p=!1,d=[],h=!1,r=!1,l=!1,m={},g={},y=!1,v={},w={},S={},x=-1,b=$(),_=0,B={};for(F=0;F<K.length;F++)B[K[F]]=[];function O(e){return-1!==e.indexOf("http://")||-1!==e.indexOf("https://")||(o?e="https:"+e:void 0===N?-1===e.indexOf("http:")&&(e="http:"+e):void 0!==N&&"file:"===N.location.protocol&&-1===e.indexOf("http:")&&(e="http:"+e)),e}function T(){var e,t,n,i,o=f,r=+new Date;return-1!==o.indexOf("?")?o+="&":o+="?",o+="key="+a,o+="&t="+r,O(o+="&s="+(e=a,t=s,n=r,"function"!=typeof(i=void 0!==CryptoJS&&CryptoJS.HmacSHA256)&&"function"==typeof require&&(i=require("crypto-js/hmac-sha256")),"function"!=typeof i?(W("CryptoJS libraries not found!  mpulse.js will not work."),""):i("key="+e+"&t="+n,t).toString()))}function P(e){try{var t=JSON.parse(e);for(var n in delete u.rate_limited,t)t.hasOwnProperty(n)&&(u[n]=t[n])}catch(e){return W("config.json could not be parsed!"),void(p=!1)}if(!u.beacon_url||u.rate_limited)return W("config.json shows rate limiting, no beacons will be sent!"),void(p=!1);if(y||k(u.session_id),v={},S={},g={},u.PageParams){var i=u.PageParams.customMetrics,o=u.PageParams.customTimers,r=u.PageParams.customDimensions;if(i)for(F=0;F<i.length;F++){var s=i[F];v[s.name]=s.label}if(o)for(F=0;F<o.length;F++){var a=o[F];S[a.name]=a.label}if(r)for(F=0;F<r.length;F++){var f=r[F];g[f.name]=f.label}}c=p=!0,setTimeout(M,X),U(H)}function M(){if(""!==f){var e=T();c&&(e+="&r="),E({url:e,ua:i},P)}else W("No config.json URL specified!")}function D(e,t,n){d.push({type:e,name:t,value:n,group:r,ab:l,dimensions:function(){var e={};for(var t in m)m.hasOwnProperty(t)&&(e[t]=m[t]);return e}(),when:+new Date})}function H(e){if(0!==d.length){if(!p)return W("processQueue: Not yet initialized for "+a+", waiting "+J),void(h&&!e||(h=!0,setTimeout(function(){H(!0)},J)));var t=d.shift(),n=t.type,i=t.name,o=t.value,r={};for(var s in"boolean"!=typeof t.group&&(r["h.pg"]=t.group),"boolean"!=typeof t.ab&&(r["h.ab"]=t.ab),r["rt.tstart"]=r["rt.end"]=t.when,t.dimensions)t.dimensions.hasOwnProperty(s)&&(void 0!==g[s]?r[g[s]]=t.dimensions[s]:W("Custom Dimension '"+s+"' is not defined"));"metric"===n?void 0!==v[i]?(r[v[i]]=o,R(r)):W("Custom Metric '"+i+"' is not defined"):"timer"===n&&(void 0!==S[i]?(r.t_other=S[i]+"|"+o,R(r)):W("Custom Timer '"+i+"' is not defined")),U(H)}}function R(e){var t;if(!p)return W("sendBeacon: Not yet initialized for "+a+", waiting 1000"),setTimeout(function(){R(e)},1e3);e.ua&&(t=e.ua,delete e.ua),e.d=u.site_domain,e["h.key"]=u["h.key"],e["h.d"]=u["h.d"],e["h.cr"]=u["h.cr"],e["h.t"]=u["h.t"],e["http.initiator"]="api",!(e["rt.start"]="api")!==y&&(e["rt.si"]=y,e["rt.ss"]=b,e["rt.sl"]=_),e.api=1,e["api.v"]=2,e["api.l"]="js",e["api.lv"]=G,q("before_beacon",e);var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+(void 0===e[i]||null===e[i]?"":encodeURIComponent(e[i])));var o,r=((o=u.beacon_url)||W("No URL from config: "+JSON.stringify(u)),O(o)),s=r+(-1<r.indexOf("?")?"&":"?")+n.join("&");q("beacon",e),E({url:s,ua:t})}function C(e,t){return"string"!=typeof e?-1:"number"!=typeof t||t<0?-1:(D("timer",e,t=Math.round(t)),U(H),t)}function I(e){void 0!==e&&void 0!==m[e]&&delete m[e]}function z(e){"string"!=typeof e&&"number"!=typeof e||("number"==typeof e&&(e=""+e),y=e)}function A(){return y}function k(e){return z(e||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),j(0),L($()),A()}function j(e){"number"!=typeof e||e<0||(_=e)}function L(e){"number"!=typeof e||e<0||(b=e)}function q(e,t){for(var n=0;n<B[e].length;n++)B[e][n](t)}return void 0!==n.configUrl&&(f=n.configUrl),n.forceSSL&&(o=!0),M(),{startTimer:function(e){return"string"!=typeof e?-1:(w[++x]={time:$(),name:e},x)},stopTimer:function(e){if("number"!=typeof e||e<0)return-1;var t=w[e],n=0;return t?(n=Math.round($()-t.time),C(t.name,n),delete w[e],n):-1},sendTimer:C,sendMetric:function(e,t){"string"==typeof e&&(void 0!==t&&"number"!=typeof t||(void 0===t&&(t=1),D("metric",e,t),U(H)))},setPageGroup:function(e){"string"==typeof e&&(r=e)},getPageGroup:function(){return r},resetPageGroup:function(){r=!1},setABTest:function(e){return"string"==typeof e&&!1!==/^[a-zA-Z0-9_ -]{1,25}$/.test(e)&&(l=e,!0)},getABTest:function(){return l},resetABTest:function(){l=!1},setDimension:function(e,t){void 0!==e&&(void 0!==t?m[e]=t:I(e))},resetDimension:I,setSessionID:z,getSessionID:A,startSession:k,incrementSessionLength:function(){_++},setSessionLength:j,getSessionLength:function(){return _},setSessionStart:L,getSessionStart:function(){return b},transferBoomerangSession:function(e){return void 0===e&&void 0!==N&&(e=N),!!(void 0!==e&&e.BOOMR&&e.BOOMR.session&&e.BOOMR.session.ID&&e.BOOMR.session.start&&e.BOOMR.session.length)&&(z(e.BOOMR.session.ID+"-"+Math.round(e.BOOMR.session.start/1e3).toString(36)),j(e.BOOMR.session.length),L(e.BOOMR.session.start),!0)},subscribe:function(e,t){B.hasOwnProperty(e)&&"function"==typeof t&&B[e].push(t)},sendBeacon:R,isInitialized:function(){return p},parseConfig:P}}void 0!==N&&"performance"in N&&N.performance&&N.performance.timing&&N.performance.timing.navigationStart&&(e=N.performance.timing.navigationStart),$||($="undefined"!=typeof Date&&Date.now?function(){return Date.now()-e}:function(){return+new Date-e});var n,i,c=!1,p={};function o(){}for(void 0!==N&&(i=(n=N).mPulse),s={version:G,noConflict:function(){return n.mPulse=i,s},init:function(e,t,n){if(n=n||{},void 0!==e){if(void 0!==t){if(void 0!==n.name&&void 0!==p[n.name])return p[n.name];var i=u(e,t,n);if(!1===c){c=i;for(var o=0;o<a.length;o++){var r=a[o];s[r]=c[r]}}return void 0!==n.name&&(p[n.name]=i),i}W("init(): You need to specify a secretKey")}else W("init(): You need to specify an apiKey")},getApp:function(e){return p[e]},stop:function(e){void 0!==p[e]&&delete p[e]},now:$},F=0;F<a.length;F++)s[a[F]]=o;"function"==typeof define&&define.amd?define([],function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:void 0!==n&&(n.mPulse=s)}("undefined"!=typeof window?window:void 0);
//# sourceMappingURL=mpulse.min.js.map